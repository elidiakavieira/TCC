<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"      
      xmlns:h="http://java.sun.com/jsf/html"> 
<h:head></h:head> 
<body bgcolor="#263A7F">

	<div id="logo" align="right">
    <p:graphicImage id="logo" value="uniprovas.png" style="align: left"/>
    </div>    

<p:breadCrumb>
    <p:menuitem value="Categories" url="index.jsf" />
    <p:menuitem value="INÍCIO" url="index.jsf" />
    <p:menuitem value="LISTAS" url="listas.jsf" />
    <p:menuitem value="SOBRE" url="sobre.jsf" />
    <p:menuitem value="AJUDA" url="ajuda.jsf" />
    <p:menuitem value="QUEM SOMOS" url="QS.jsf" />
</p:breadCrumb>
 <h:form id="form0">
		 <p:dataScroller first="#{beanData.listaDatas}"  value="#{beanData.listaDatas}" var="c"  rows="1" chunkSize="1" >

  			 <h:panelGrid columns="4" style="width:100%" columnClasses="calendario"> 
            <p:outputPanel>
                    <h:outputText value="Datas das Provas:" />    
                	<h:panelGrid columns="8" cellpadding="5">
                    <h:outputText value="Regular:" />
                    <h:outputText value="#{c.regular}"  style="font-weight: bold"/>
 
                    <h:outputText value="Sub:" />
                    <h:outputText value="#{c.sub}" style="font-weight: bold"/>
 
                    <h:outputText value="Exame:" />
                    <h:outputText value="#{c.exame}" style="font-weight: bold"/>
                    
                    <h:outputText value="Sub do Exame:" />
                    <h:outputText value="#{c.subexame}" style="font-weight: bold"/>
                </h:panelGrid>
            </p:outputPanel>
        </h:panelGrid>
    </p:dataScroller>
    </h:form>
    
    
     <h:form id="form1">
 
		<p:panel id="panel" header="Cadastro de Provas"
			style="margin-bottom:10px;" >

    <div align="right" id="relogio">
	 <p:clock pattern="HH:mm:ss dd.MM.yyyy" mode="server" />
	</div>			


			<p:messages id="messages" />
			<p:panelGrid id="dat1" columns="3" cellpadding="1">
				
				<p:outputLabel for="ra" value="RA:" />
				<p:inputText id="ra" value="#{beanProva.prova.ra}" required="true"
				requiredMessage="O RA do Aluno deve ser digitado." />
				<p:outputLabel for="ra" value="Digite o RA do Aluno EX:	12345678910" />
							
				<p:outputLabel for="nome" value="Nome:" />
				<p:inputText id="nome" value="#{beanProva.prova.nome}" required="true"
				requiredMessage="O Nome do Aluno deve ser digitado." />
				<p:outputLabel for="nome" value="Digite o Nome do Aluno EX:	João da Silva" />

				<p:outputLabel for="curso" value="Curso:" />
				<p:inputText id="curso" value="#{beanProva.prova.curso}" required="true" 
				requiredMessage="O Curso deve ser digitado." />
				<p:outputLabel for="curso" value="Digite o Curso EX:	Letras" />				

				<p:outputLabel for="disciplina" value="Disciplina:" />
				<p:inputText id="disciplina" value="#{beanProva.prova.disciplina}" required="true" 
				requiredMessage="A Disciplina deve ser digitada." />
				<p:outputLabel for="disciplina" value="Digite a Disciplina EX:	IPT" />

				<p:outputLabel for="data" value="Data:">
				<p:link id="datas" href="datas.jsf">
    			<p:graphicImage id="cal"  value="cal.png" width="33" />        
 				</p:link></p:outputLabel>
				<p:inputMask id="data" value="#{beanProva.prova.data}" mask="99/99/9999" required="true" 
				requiredMessage="A Data deve ser digitada." />
				<p:outputLabel for="data" value="Digite a Data EX:	12/10/2019" />
				
				<p:outputLabel for="hora" value="Hora:" />
				<p:inputMask id="hora" value="#{beanProva.prova.hora}" mask="99:99" required="true"
				requiredMessage="A Hora deve ser digitada." />
				<p:outputLabel for="hora" value="Digite a Hora EX:	12:00" />

				<p:outputLabel for="observacao" value="Observação:" required="false" />
				<p:inputText id="observacao" value="#{beanProva.prova.observacao}" />
				<p:outputLabel for="observacao" value="A Observação não é Obrigatória" />
				
				
				<p:outputLabel value="" />
				<p:commandButton id="btnSalvar" icon="ui-icon-disk" value="Salvar" 
				update=":form1 :form2" action="#{beanProva.salvar()}" />
			</p:panelGrid>
		</p:panel>
	</h:form>
	
	<h:form id="form2">
		<p:dataTable id="tab2" value="#{beanProva.listaProvas}" var="c"
			emptyMessage="Nenhum registro incluido." resizableColumns="true" paginator="true" rows="5">

			<p:column headerText="RA" style="text-align: center"
				sortBy="#{c.ra}" filterBy="#{c.ra}">
				<h:outputText value="#{c.ra}" />
			</p:column>

			<p:column headerText="Nome" style="text-align: center"
				sortBy="#{c.nome}" filterBy="#{c.nome}">
				<h:outputText value="#{c.nome}" />
			</p:column>

			<p:column headerText="Curso" style="text-align: center"
				sortBy="#{c.curso}" filterBy="#{c.curso}">
				<h:outputText value="#{c.curso}" />
			</p:column>

			<p:column headerText="Disciplina" style="text-align: center"
				sortBy="#{c.disciplina}" filterBy="#{c.disciplina}">
				<h:outputText value="#{c.disciplina}" />
			</p:column>

			<p:column headerText="Data" style="text-align: center"
				sortBy="#{c.disciplina}" filterMatchMode="contains" filterBy="#{c.data}">
				<h:outputText value="#{c.data}" />
			</p:column>

			<p:column headerText="Hora" style="text-align: center"
				sortBy="#{c.hora}" filterBy="#{c.hora}">
				<h:outputText value="#{c.hora}" />
			</p:column>

			<p:column headerText="Observação" style="text-align: center"
				sortBy="#{c.observacao}" filterBy="#{c.observacao}">
				<h:outputText value="#{c.observacao}" />
			</p:column>

			
			<p:column headerText="NOVO" style="text-align: center" width="50">
				<p:commandButton icon="ui-icon-plus" title="Novo"
					update="dlgEdit:infosCliEdit" onclick="PF('confirmationEdit').show();">
					<f:setPropertyActionListener value="#{c}"
						target="#{beanProva.prova}" />
				</p:commandButton>
					</p:column>
					
				<p:column headerText="EXCLUIR" style="text-align: center" width="70">
				<p:commandButton icon="ui-icon-trash" title="Excluir"
					update="dlg:infosCli" onclick="PF('confirmation').show();">
					<f:setPropertyActionListener value="#{c}"
						target="#{beanProva.prova}" />
				</p:commandButton>
			</p:column>
			
			<p:column headerText="EDITAR" style="text-align: center" width="60">
				<p:commandButton icon="ui-icon-pencil" title="Editar"
					update="dlgEdit:infosCliEdit" onclick="PF('confirmationEdit').show();">
					<f:setPropertyActionListener value="#{c}"
						target="#{beanProva.prova}" />
				</p:commandButton>
							</p:column>
		</p:dataTable>
	</h:form>



	<p:dialog header="Deseja realmente excluir este registro?"	widgetVar="confirmation" modal="true" appendTo="@(body)" resizable="false" responsive="true">
		<h:form id="dlg">
			<p:panelGrid id="infosCli" columns="2" style="margin-bottom:10px">
				<p:outputLabel for="ra" value="RA:" />
				<p:inputText id="ra" value="#{beanProva.prova.ra}"
					readonly="true" />
				<p:outputLabel for="nome" value="Nome:" />
				<p:inputText id="nome" value="#{beanProva.prova.nome}"
					readonly="true" />
				<p:commandButton id="btnSim" value="Sim"
					oncomplete="PF('confirmation').hide(); retun false;"
					action="#{beanProva.excluir()}" update=":form2:tab2" />
				<p:commandButton id="btnNao" value="Não"
					onclick="PF('confirmation').hide();" type="button" />
			</p:panelGrid>
		</h:form>
	</p:dialog>


	<p:dialog header="Novo agendamento de Prova"	widgetVar="confirmationEdit" modal="true" appendTo="@(body)" resizable="false" responsive="true">
		<h:form id="dlgEdit">
			<p:panelGrid id="infosCliEdit" columns="2" style="margin-bottom:10px">

				<p:outputLabel for="ra" value="RA:" />
				<p:inputText id="ra" value="#{beanProva.prova.ra}" />

				<p:outputLabel for="nome" value="Nome:" />
				<p:inputText id="nome" value="#{beanProva.prova.nome}" />

				<p:outputLabel for="curso" value="Curso:" />
				<p:inputText id="curso" value="#{beanProva.prova.curso}" />
				
				<p:outputLabel for="disciplina" value="Disciplina:" />
				<p:inputText id="disciplina" value="#{beanProva.prova.disciplina}" />
												
				<p:outputLabel for="data" value="Data:" />
				<p:inputMask id="data" value="#{beanProva.prova.data}" mask="99/99/9999" />

				<p:outputLabel for="hora" value="Hora:" />
				<p:inputMask id="hora" value="#{beanProva.prova.hora}" mask="99:99"/>
				
				<p:outputLabel for="observacao" value="Observação:" />
				<p:inputText id="observacao" value="#{beanProva.prova.observacao}" />


				<p:commandButton id="btnSalvar" icon="ui-icon-disk" value="Salvar"
					oncomplete="PF('confirmationEdit').hide(); retun false;"
					action="#{beanProva.salvar()}" update=":form2:tab2" />
				<p:commandButton id="btnCancelar" icon="ui-icon-close" value="Cancelar"
					onclick="PF('confirmationEdit').hide();" type="button" />
			</p:panelGrid>
		</h:form>
	</p:dialog>
	

    
    
</body> 
</html>
